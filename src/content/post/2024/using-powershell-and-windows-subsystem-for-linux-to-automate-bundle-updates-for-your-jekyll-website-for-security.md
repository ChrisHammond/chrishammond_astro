---
title: "Using Powershell and Windows Subsystem for Linux to automate bundle updates for your Jekyll website for security"
author: Chris Hammond
publishDate: 2024-08-05T16:57:12
updateDate: 2024-08-05T17:02:17
image: ~/assets/images/i/2024/git-flow.jpg
tags: [ 'Jekyll', 'Powershell', 'Programming', 'Script', 'Tutorial' ]
excerpt: "Discover the benefits of automating your Jekyll GitHub repository updates with a PowerShell script. This comprehensive guide explains how to streamline your workflow by automatically pulling, updating dependencies, and committing changes for multiple repositories, ensuring your projects stay current and efficient. "
url: /2024/using-powershell-and-windows-subsystem-for-linux-to-automate-bundle-updates-for-your-jekyll-website-for-security  # Use the generated URL with year
---
<p>In the world of software development, keeping your project dependencies up-to-date is crucial for security, performance, and functionality. This is especially true for projects using package managers like Bundler for Ruby, which regularly release updates for libraries and dependencies. However, manually updating each repository can be a tedious and error-prone process. That&#39;s where automation scripts come in handy.<br /> <br /> In this blog post, we&#39;ll explore a PowerShell script designed to automate the process of updating Bundler dependencies for multiple repositories, committing the changes, and pushing them to the remote repository. This script is particularly useful for developers managing multiple GitHub Pages sites or any projects relying on Jekyll, a popular static site generator that uses Bundler for dependency management.</p>  <p>I&#39;ve been building out Jekyll based websites for a number of years, and have more than 20 of them that regularly need updating. Manually going through and updating the bundler, creating a commit and pushing those simple changes back to the repository is time consuming, so I decided to have ChatGPT assist with creating a Powershell script that would do this for me.</p>  <p>A few assumptions first:</p>  <ul>  <li>You already have Jekyll based repositories you&#39;re using, I put them into a local g:\projects\ directory</li>  <li>You&#39;ve got Git permissions and authentication already configured</li>  <li>You&#39;ve got Windows Subsystem for LInux installed and running locally (I&#39;m using Ubuntu-22.04 in WSL, if you&#39;re using something else you may need to make some changes to the script)</li> </ul>  <h3>What Does the Script Do?</h3>  <p>Our PowerShell script performs the following tasks for each repository listed in a text file:</p>  <ol>  <li><strong>Pull the latest changes from the remote repository:</strong> Ensures the local repository is up-to-date with the latest changes.</li>  <li><strong>Convert the repository path to a WSL-compatible format:</strong> This step is necessary because we&#39;ll use WSL (Windows Subsystem for Linux) to run the <code>bundle update</code> command.</li>  <li><strong>Run <code>bundle update</code> in WSL:</strong> Updates the Bundler dependencies to their latest versions.</li>  <li><strong>Add and commit the changes in Windows:</strong> Stages all changes, creates a commit with a message indicating the update, and prepares the repository for pushing.</li>  <li><strong>Push the changes to the remote repository:</strong> Pushes the committed changes back to the remote repository on GitHub.</li> </ol>  <h3>Why Is This Script Useful?</h3>  <ol>  <li><strong>Saves Time:</strong> By automating the repetitive task of updating dependencies across multiple repositories, developers can save significant time and focus on more critical aspects of their projects.</li>  <li><strong>Reduces Human Error:</strong> Automation reduces the risk of missing a repository or making a mistake during the update process. Helps me ensure I don&#39;t miss a repo.</li>  <li><strong>Ensures Consistency:</strong> The script ensures that all repositories are updated in a consistent manner, reducing the chances of discrepancies between them.</li>  <li><strong>Leverages WSL:</strong> By using WSL to run Linux commands, the script takes advantage of the powerful tools available in a Unix-like environment while still operating within a Windows ecosystem.</li>  <li><strong>Keeps Projects Secure and Functional:</strong> Regularly updating dependencies helps to keep projects secure from vulnerabilities and ensures they benefit from the latest performance improvements and features.</li> </ol>  <h3>The Script in Action</h3>  <p><a href="https://gist.github.com/ChrisHammond/fa4d181921f80b826da56ad61cb664bb">Here is the PowerShell script in a public GIST</a></p>  <h3>How to Use the Script</h3>  <ol>  <li>  <p><strong>Prepare Your Environment:</strong></p>   <ul>   <li>Ensure you have WSL installed and set up on your Windows machine.</li>   <li>Install Ruby and Bundler in your WSL environment. It helps to already have Jekyll running in WSL to ensure success.</li>   <li>Set up Git with the necessary credentials in both Windows and WSL (I don&#39;t actually have GIT credentials setup in WSL, only Windows).</li>  </ul>  </li>  <li>  <p><strong>Create the Repository List:</strong></p>   <ul>   <li>Create a text file (e.g., <code>github_io_repos.txt</code>) containing the paths to your repositories, one per line. You can see a sample of the path format in the GIST link above.</li>  </ul>  </li>  <li>  <p><strong>Run the Script:</strong></p>   <ul>   <li>Save the PowerShell script to a file (e.g., <code>update_github_io_repos.ps1</code>).</li>   <li>Open PowerShell, navigate to the directory containing the script, and run it using the command:   <p><code>.\update_github_io_repos.ps1 </code></p>   </li>  </ul>  </li> </ol>  <h3>Conclusion</h3>  <p>This PowerShell script is a valuable tool for developers managing multiple repositories. It automates the process of updating dependencies, committing the changes, and pushing them to the remote repository. By leveraging the strengths of both Windows and WSL, the script provides a seamless and efficient way to keep your projects up-to-date and secure.</p>  <p>Automating routine tasks like this not only saves time but also ensures consistency and reduces the risk of human error. Give this script a try and streamline your workflow today!</p> 
