---
title: "Community Server Tweaks, Latest Posts"
author: Chris Hammond
publishDate: 2006-03-16T19:55:00
updateDate: 2008-01-23T16:51:00
tags: [ 'Club Racing', 'Community Server', 'Development', 'SEO', 'Site News', 'Technology' ]
excerpt: "Community Server can be a pretty powerful tool if you take your time to setup a decent site for your users. Here are a few tweaks I've made to SCCAForums.com to make it a bit more user friendly. On the home page there are sections for active, unanswer, and my posts(if logged in). These controls don't provide much information to the user though, by default only a link and portion of the subject of a forum post. On SCCA Forums I've setup the controls to display the user who made the last post, link directly to the last post rather than the first post, and also display and link to the particular forum that the post was made in. To do this you need to add the following script to your default.aspx page. &lt;script language=\"C#\" runat=\"server\"&gt; &nbsp;int getPageNumber(int replies)&nbsp;{&nbsp;&nbsp;int page = 1;&nbsp;&nbsp;if (replies &gt; 14) &nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;page = 1 + replies /15;&nbsp;&nbsp;} &nbsp;&nbsp;return page;&nbsp;}&lt;/script&gt; You also need to change the ItemTemplate section of the ThreadRepeater controls to look like the following &lt;ItemTemplate&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div class=\"CommonSidebarContentItem\"&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;strong&gt;&lt;a href=\"&lt;%# ForumUrls.Instance().PostPaged((int) DataBinder.Eval(Container.DataItem, \"MostRecentPostID\"), getPageNumber((int)DataBinder.Eval(Container.DataItem, \"replies\")))%&gt;\"&gt;&lt;%# DataBinder.Eval(Container.DataItem, \"Subject\").ToString() %&gt;&lt;/a&gt;&lt;/strong&gt;&nbsp;&nbsp;&nbsp;&nbsp;- &lt;%# DataBinder.Eval(Container.DataItem, \"MostRecentPostAuthor\") %&gt;&nbsp;&nbsp;&nbsp;&nbsp;(&lt;a href=\"&lt;%# ForumUrls.Instance().Forum( ((Thread) Container.DataItem).SectionID ) %&gt;\"&gt;&lt;%# DataBinder.Eval(Container.DataItem, \"Forum.Name\") %&gt;&lt;/a&gt;)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;&lt;/ItemTemplate&gt;&nbsp;&nbsp;&nbsp;&nbsp; More tweaks to come...."
url: /2006/community-server-tweaks-latest-posts  # Use the generated URL with year
---
<P>Community Server can be a pretty powerful tool if you take your time to setup a decent site for your users.</P> <P>Here are a few tweaks I've made to <A href="https://sccaforums.com/">SCCAForums.com</A> to make it a bit more user friendly.</P> <P>On the home page there are sections for active, unanswer, and my posts(if logged in). These controls don't provide much information to the user though, by default only a link and portion of the subject of a forum post.</P> <P>On <A href="https://sccaforums.com/">SCCA Forums</A> I've setup the controls to display the user who made the last post, link directly to the last post rather than the first post, and also display and link to the particular forum that the post was made in.</P> <P>To do this you need to add the following script to your default.aspx page.</P> <P>&lt;script language="C#" runat="server"&gt;</P> <P>&nbsp;int getPageNumber(int replies)<BR>&nbsp;{<BR>&nbsp;&nbsp;int page = 1;<BR>&nbsp;&nbsp;if (replies &gt; 14) <BR>&nbsp;&nbsp;{<BR>&nbsp;&nbsp;&nbsp;page = 1 + replies /15;<BR>&nbsp;&nbsp;} <BR>&nbsp;&nbsp;return page;<BR>&nbsp;}<BR>&lt;/script&gt;</P> <P>You also need to change the ItemTemplate section of the ThreadRepeater controls to look like the following</P> <P>&lt;ItemTemplate&gt;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div class="CommonSidebarContentItem"&gt;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&lt;strong&gt;&lt;a href="&lt;%# ForumUrls.Instance().PostPaged((int) DataBinder.Eval(Container.DataItem, "MostRecentPostID"), getPageNumber((int)DataBinder.Eval(Container.DataItem, "replies")))%&gt;"&gt;&lt;%# DataBinder.Eval(Container.DataItem, "Subject").ToString() %&gt;&lt;/a&gt;&lt;/strong&gt;<BR>&nbsp;&nbsp;&nbsp;&nbsp;- &lt;%# DataBinder.Eval(Container.DataItem, "MostRecentPostAuthor") %&gt;<BR>&nbsp;&nbsp;&nbsp;&nbsp;(&lt;a href="&lt;%# ForumUrls.Instance().Forum( ((Thread) Container.DataItem).SectionID ) %&gt;"&gt;&lt;%# DataBinder.Eval(Container.DataItem, "Forum.Name") %&gt;&lt;/a&gt;)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<BR>&lt;/ItemTemplate&gt;&nbsp;&nbsp;&nbsp;&nbsp;<BR></P> <P>More tweaks to come. <A href="https://weblogs.asp.net/christoc/archive/2006/03/16/440437.aspx">https://weblogs.asp.net/christoc/archive/2006/03/16/440437.aspx</A></P>
