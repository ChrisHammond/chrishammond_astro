---
title: "Part 6, Community Server to DotNetNuke Moving Forum replies and attachments"
author: Chris Hammond
publishDate: 2011-05-23T00:54:15
updateDate: 2011-05-23T00:54:15
tags: []
excerpt: "Learn how to seamlessly convert your CommunityServer-based websites to DotNetNuke in this informative blog post series. Part 6 covers moving forum replies and attachments."
url: /2011/part-6-community-server-to-dotnetnuke-moving-forum-replies-and-attachments  # Use the generated URL with year
---
<p>This is the sixth post in a series of blog posts about converting from CommunityServer to DotNetNuke. It has been far too long since Part 5, apologies for that!</p> <p>A brief background: I had a number of websites running on CommunityServer 2.1, I decided it was finally time to ditch CommunityServer due to the change in their licensing model and pricing that made it not good for the small guy. This series of blog posts is about how to convert your CommunityServer based sites to <a href="https://www.dotnetnuke.com/">DotNetNuke</a>.</p> <p>Previous Posts:   <br /> <a href="https://www.dnndaily.com/tips/itemId/33060/Converting-From-CommunityServer-to-DotNetNuke-Intr.aspx">Part 1: An Introduction</a>    <br /> <a href="https://www.dnndaily.com/tips/itemId/33098/CommunityServer-to-DotNetNuke-Part-2-DotNetNuke-I.aspx">Part 2: DotNetNuke Installation</a>    <br /> <a href="https://www.dnndaily.com/tips/itemId/33102/Part-3-Converting-users-from-CommunityServer-to-D.aspx">Part 3: Converting users from CommunityServer to DotNetNuke</a>    <br /> <a href="https://www.dnndaily.com/tips/itemId/33114/Part-4-Getting-the-conversion-tables-ready-for-CS.aspx">Part 4: Getting the conversion tables ready for CS&nbsp; to DNN</a>    <br /> <a href="https://www.dnndaily.com/tips/itemId/33123/Part-5-Moving-Forum-threads-from-CommunityServer.aspx" target="_blank">Part 5: Moving Forum threads from CommunityServer to DotNetNuke</a><br /> <a href="https://www.dnndaily.com/tips/itemId/33327/Part-6-Community-Server-to-DotNetNuke-Moving-Foru">Part 6, Community Server to DotNetNuke Moving Forum replies and attachments</a><br /> <a href="https://www.dnndaily.com/tips/itemId/33750/Part-7-CommunityServer-to-DotNetNuke-handling-URL">Part 7: CommunityServer to DotNetNuke handling URLs</a></p> <p><strong>Converting Forum replies</strong></p> <p>If you haven't already, I would encourage you to check out the previous 5 blog posts, otherwise this post may have you lost! You can download the scripts for this process over at <a title="https://cstodnn.codeplex.com/" href="https://cstodnn.codeplex.com/">https://cstodnn.codeplex.com/</a> check out the source tab for all the latest as I haven't done a new release lately, but I will after this blog series is done.</p> <p>This blog post covers the 3rd SQL Script (<a href="https://cstodnn.codeplex.com/SourceControl/changeset/view/57823#839492" target="_blank">CsToDNN_3.sql</a>), as with all the scripts you should do a search and replace on a few terms (noted at the top of the file). The first thing we'll do is go out and get the number of &ldquo;threads&rdquo; from the forums that we need to pull replies in for. Then starting with the first post that isn't a new thread, meaning the first reply, we grab all the information for that reply and add it into the DNN Forum database.</p> <p>Before grabbing the next reply we update the cs_forums_topics table, which houses the original CommunityServer ID and the new DNN Forum ID. This information will get used later so we can access the old CS urls and redirect them to DNN urls.</p> <p>On a large forum this script will likely take the longest. I have seen anywhere from 30 minutes to 3-4 hours. </p> <p><strong>Grabbing the Forum Attachments</strong></p> <p>The next script is a quick one that I threw in after actually running the process on a website after some users complained that the attachments were missing. <a href="https://cstodnn.codeplex.com/SourceControl/changeset/view/57823#933604" target="_blank">CsToDNN_4.sql</a> is used to bring over the forum attachments into the DNN Forums. </p> <p>The script is pretty simple, but you should only run it after you copy the storage folder from the /forums/ folder on your CommunityServer installation, you need to put the contents of the storage folder into your DNN installation in the /portals/#/forums/attachments folder (where # is the ID of your portal, typically 0 if you have one website in DotNetNuke).</p> <p>Then run the script, that should bring over the attachments!</p> <p>In the next blog post in the series I will talk about how to handle the old CommunityServer URLs and have them properly redirect to DotNetNuke URLs. </p>


