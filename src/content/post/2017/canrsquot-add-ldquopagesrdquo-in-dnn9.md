---
title: "Can&rsquo;t add &ldquo;pages&rdquo; in DNN9?"
author: Chris Hammond
publishDate: 2017-01-02T14:45:50
updateDate: 2017-01-02T14:45:50
tags: [ 'Bugs', 'DNN9', 'DNNCMS', 'DotNetNuke', 'Fixes', 'Testing' ]
excerpt: "Struggling to add Pages in DNN 9? Discover how to fix the blank persona bar issue caused by File Permissions. Read more for a quick solution."
url: /2017/canrsquot-add-ldquopagesrdquo-in-dnn9  # Use the generated URL with year
---
<p>If you are having problems adding Pages in DNN 9, read this blog post.</p> <p>I recently upgraded all of my sites to DNN 9, the most recent one being upgraded last night. This morning I wake up to an email from a client of mine reporting a problem with adding pages in one of their sites that they also upgraded to DNN recently. I read through their email, and decide that I’ll look into their issue a bit later, have an itch to scratch on one of my own websites, so I’ll get to them later (sorry client).</p> <p>Working on this site that I upgrade last night, I decided I wanted to add another page to the site, low and behold, I was unable to do so. </p> <p>To add a page in DNN9 you click on the “Content” option in the persona bar, and then the Pages option. There you will be presented with a view similar to this:</p> <p><a href="/assets/images/PublishThumbnails//open-live-writer/cant-add-pages-in-dnn9_b348/image_2.png"><img title="image" style="border-top: 0px; border-right: 0px; background-image: none; border-bottom: 0px; padding-top: 0px; padding-left: 0px; border-left: 0px; margin: 0px; display: inline; padding-right: 0px" border="0" alt="image" src="/assets/images/PublishThumbnails//Open-Live-Writer/Cant-add-pages-in-DNN9_B348/image_thumb.png" width="244" height="58"></a></p> <p>When I clicked on Add Page there, the screen went blank, like so:</p> <p><a href="/assets/images/PublishThumbnails//Open-Live-Writer/Cant-add-pages-in-DNN9_B348/image_4.png"><img title="image" style="border-top: 0px; border-right: 0px; background-image: none; border-bottom: 0px; padding-top: 0px; padding-left: 0px; border-left: 0px; margin: 0px; display: inline; padding-right: 0px" border="0" alt="image" src="/assets/images/PublishThumbnails//Open-Live-Writer/Cant-add-pages-in-DNN9_B348/image_thumb_1.png" width="244" height="201"></a></p> <p>That’s not very useful, actually that is as far from useful as possible. Once that happens, you can’t actually “do” anything from an Admin perspective. You have to “leave” this page, go somewhere else (click on manage/users for example, then you might need to click BACK in your browser a bunch of times) then you can click on Content/Pages again to get back into the Page listing for a site.</p> <p>So why is the persona bar page blank? This error is the cause:</p> <blockquote> <p>GET https://SOMEPORTALALIASHERE/API/PersonaBar/Pages/GetDefaultSettings? 500 (Internal Server Error)</p></blockquote> <p>If you dig into the DNN Error Log (Admin Logs) a bit you might find a more detailed error, something along the lines of</p> <blockquote> <p>Message:Value cannot be null. Parameter name: source</p> <p>StackTrace:</p> <p>at System.Linq.Enumerable.FirstOrDefault[TSource](IEnumerable`1 source, Func`2 predicate) at Dnn.PersonaBar.Pages.Components.TemplateController.GetDefaultTemplateId(IEnumerable`1 templates) at Dnn.PersonaBar.Pages.Components.PagesControllerImpl.GetDefaultSettings() at Dnn.PersonaBar.Pages.Services.PagesController.GetDefaultSettings() at lambda_method(Closure , Object , Object[] ) at</p></blockquote> <p>So what does that message tell you? Well something is happening with your DNN Install trying to get a list of “page templates”. In digging further, on my site, I found the issue to be the File Permissions on the Templates folder in the portals/0/ directory. For some reason on the site that I upgraded last night, my permissions were set to ALL USERS DENY on the “Browse Files in Folder” and “Open Files in Folder” check boxes.</p> <p><a href="/assets/images/PublishThumbnails//Open-Live-Writer/Cant-add-pages-in-DNN9_B348/image_6.png"><img title="image" style="border-top: 0px; border-right: 0px; background-image: none; border-bottom: 0px; padding-top: 0px; padding-left: 0px; border-left: 0px; margin: 0px; display: inline; padding-right: 0px" border="0" alt="image" src="/assets/images/PublishThumbnails//Open-Live-Writer/Cant-add-pages-in-DNN9_B348/image_thumb_2.png" width="244" height="169"></a></p> <p>Unchecking those, clicking SAVE resolved my “pages” persona bar issues. How did those permissions get set? Who knows, this DNN site has been around since 2008 or earlier, and that never caused a problem. </p> <p>There are definitely some “kinks” to be worked out of DNN9, but so far I am digging the new experience.</p> <p>Regarding my “client”’s site, they had a similar, but different issue. In their case, the TEMPLATES folder didn’t exist in the Portal that they were trying to use. Simply creating a new Templates folder in their File Manager fixed that problem for their site.</p>

